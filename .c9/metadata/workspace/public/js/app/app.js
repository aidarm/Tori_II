{"filter":false,"title":"app.js","tooltip":"/public/js/app/app.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":171,"column":39},"end":{"row":171,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":40},"end":{"row":171,"column":41},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":39},"end":{"row":171,"column":41},"action":"remove","lines":["di"]},{"start":{"row":171,"column":39},"end":{"row":171,"column":55},"action":"insert","lines":["directiveService"]}]}],[{"group":"doc","deltas":[{"start":{"row":322,"column":8},"end":{"row":322,"column":50},"action":"remove","lines":["directiveService.subscribe(function(msg) {"]}]}],[{"group":"doc","deltas":[{"start":{"row":322,"column":4},"end":{"row":322,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":322,"column":0},"end":{"row":322,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":321,"column":42},"end":{"row":322,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":317,"column":63},"end":{"row":318,"column":0},"action":"insert","lines":["",""]},{"start":{"row":318,"column":0},"end":{"row":318,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":318,"column":4},"end":{"row":318,"column":46},"action":"insert","lines":["directiveService.subscribe(function(msg) {"]}]}],[{"group":"doc","deltas":[{"start":{"row":325,"column":8},"end":{"row":325,"column":11},"action":"remove","lines":["});"]}]}],[{"group":"doc","deltas":[{"start":{"row":327,"column":5},"end":{"row":327,"column":8},"action":"insert","lines":["});"]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":39},"end":{"row":171,"column":55},"action":"remove","lines":["directiveService"]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":38},"end":{"row":171,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":37},"end":{"row":171,"column":38},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":192,"column":0},"end":{"row":192,"column":60},"action":"remove","lines":["                directiveService.publish(\"This is a test.\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":191,"column":39},"end":{"row":192,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":60},"end":{"row":11,"column":0},"action":"insert","lines":["",""]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":4},"end":{"row":11,"column":48},"action":"insert","lines":["directiveService.publish(\"This is a test.\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":318,"column":4},"end":{"row":318,"column":5},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":318,"column":5},"end":{"row":318,"column":6},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":327,"column":5},"end":{"row":327,"column":6},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":327,"column":6},"end":{"row":327,"column":7},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":321,"column":0},"end":{"row":321,"column":25},"action":"remove","lines":["        transclude: true,"]}]}],[{"group":"doc","deltas":[{"start":{"row":320,"column":22},"end":{"row":321,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":9},"end":{"row":167,"column":0},"action":"insert","lines":["",""]},{"start":{"row":167,"column":0},"end":{"row":167,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":8},"end":{"row":173,"column":9},"action":"insert","lines":["        $scope.boxShow = function() {","            if ($routeParams.page == 1 && $scope.totalCount <= 25) {","                return true;","            } else {","                return false;","            }","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":12},"end":{"row":167,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":8},"end":{"row":167,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":9},"end":{"row":167,"column":0},"action":"insert","lines":["",""]},{"start":{"row":167,"column":0},"end":{"row":167,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":163,"column":12},"end":{"row":164,"column":0},"action":"insert","lines":["",""]},{"start":{"row":164,"column":0},"end":{"row":164,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":0},"end":{"row":170,"column":4},"action":"insert","lines":["    "]},{"start":{"row":171,"column":0},"end":{"row":171,"column":4},"action":"insert","lines":["    "]},{"start":{"row":172,"column":0},"end":{"row":172,"column":4},"action":"insert","lines":["    "]},{"start":{"row":173,"column":0},"end":{"row":173,"column":4},"action":"insert","lines":["    "]},{"start":{"row":174,"column":0},"end":{"row":174,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":0},"end":{"row":170,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":0},"end":{"row":174,"column":17},"action":"remove","lines":["                    if ($routeParams.page == 1 && $scope.totalCount <= 25) {","                    return true;","                } else {","                    return false;","                }"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":0},"end":{"row":170,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":4},"end":{"row":170,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":8},"end":{"row":170,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":12},"end":{"row":170,"column":13},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":13},"end":{"row":170,"column":14},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":14},"end":{"row":170,"column":15},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":15},"end":{"row":170,"column":16},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":16},"end":{"row":170,"column":17},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":17},"end":{"row":170,"column":18},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":18},"end":{"row":170,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":19},"end":{"row":170,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":20},"end":{"row":170,"column":21},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":21},"end":{"row":170,"column":22},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":22},"end":{"row":170,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":0},"end":{"row":205,"column":2},"action":"remove","lines":["","function listCTRL($scope, $routeParams, $location, $http, $document, $route, ngDialog, data, directiveService) {","    ","    var el = angular.element(document.getElementById('rc'));","    directiveService.publish(\"This is a test.\");","","    $scope.data = data.data;","    $scope.user = function() {","        if (data.user) {","            return true;","        }","    }","    ","    if ($routeParams.list == \"all\") {","        $scope.pageHeading = \"The latest ones\";","    } else if ($routeParams.list == \"user\") {","        $scope.pageHeading = \"Items for approve\"","    } else {","        $scope.pageHeading = $routeParams.list + \" for sale\";","    }","    ","    if ($scope.data.length != 0) {","        $scope.totalCount = data.count;","        ","        $scope.pageLimit = Math.ceil($scope.totalCount / 25);","        ","        $scope.partCount = function() {","            var x = ($routeParams.page - 1)*25 + 1;","            if ($scope.totalCount < $routeParams.page*25) {","                var y = $scope.totalCount;","            } else {","                var y = $routeParams.page*25;","            }","            return \"# \" + x + \" - \" + y + \" out of \" + $scope.totalCount;","        }","        ","        $scope.arrowHShow = function() {","            if ($routeParams.page*25 > $scope.totalCount) {","                return true;","            } else {","                return false;","            }","        }","        ","        $scope.boxShow = function() {","            if ($routeParams.page == 1 && $scope.totalCount <= 25) {","                return true;","            } else {","                return false;","            }","        }","    ","        $scope.delete = function (id){","            ngDialog.open({","                template: 'js/app/views/confirm.html',","                className: 'ngdialog-theme-plain',","                scope: $scope,","                controller: ['$scope', function ($scope) {","                    $scope.message = \"Delete?\";","                    $scope.dosmth = function (x) {","                        if (x == 'yes') {","                            $http({","                                url: 'api/delete',","                                method: 'POST',","                                data: {","                                    'id': id","                                }","                            }).success(function () {","                                $scope.closeThisDialog();","                                $route.reload();","                            })","                        } else {","                            $scope.closeThisDialog();","                        }","                    }","                }]","            });","    ","        };","    ","        $scope.edit = function (id) {","            ngDialog.open({","                template: 'js/app/views/edit.html',","                className: 'ngdialog-theme-default',","                scope: $scope,","                controller: ['$scope', '$location', function ($scope, $location) {","                    $http({","                        url: \"api/data/\",","                        method: \"GET\",","                        params: {","                            single: true,","                            id: id","                        }","                    }).success(function (data) {","                        $scope.item = data.data;","                        $scope.form = {","                            'title': data.data.title,","                            'category': data.data.category,","                            'description': data.data.description,","                            'price': data.data.price,","                            'name': data.data.name,","                            'city': data.data.city,","                            'phone': data.data.phone,","                            'img': data.data.img,","                            '_id': data.data._id","                        }","                    });","    ","                    $scope.send = function () {","                        $http({","                            url: 'api/update',","                            method: 'POST',","                            data: $scope.form","                        }).success(function (data) {","                            $scope.closeThisDialog();","                            $route.reload();","                        })","                    }","    ","                    $scope.cancel = function () {","                        $scope.closeThisDialog();","                    }","                }]","            });","        }","        ","        var n =  +$routeParams.page + 1;","        var p =  +$routeParams.page - 1;","        ","        $scope.nextPage = function() {","            $location.path(\"/list/\" + $routeParams.list + \"/\" + n);","            $document.duScrollToElementAnimated(el);","        }","        ","        $scope.previousPage = function() {","            if ($routeParams.page != 1) $location.path(\"/list/\" + $routeParams.list + \"/\" + p);","            $document.duScrollToElementAnimated(el);","        }","        ","        $scope.isHidden = function(){","            if ($routeParams.page == 1) {","                return true;","            } else {","                return false;","            }","        }","        ","        $scope.pageNumber = $routeParams.page;","        ","        $scope.goToPage = function(x) {","            if (x != 0 && x <= $scope.pageLimit) ","            {","                $location.path(\"/list/\" + $routeParams.list + \"/\" + x);","                $document.duScrollToElementAnimated(el);","            }","        }","    } else {","        ","        $scope.partCount = function() {","            return \"nothing\"","        }","        ","        $scope.boxShow = function() {","            return true","        }","    }","","}","","listCTRL.resolve = {","    data : function($q, $route, $http) {","        var deferred = $q.defer();","            ","        var query = {","            params: {","                single: false,","                appr: 1,","                list: $route.current.params.list,","                page: $route.current.params.page - 1","        }}","        ","        if (query.params.list == \"all\") {","            query.params.list = null;","        } else if (query.params.list == \"user\") {","            query.params.appr = 0;","            query.params.list = null;","        }","        ","        $http.get(\"api/data\", query)","            .success(function(data) {","                deferred.resolve(data);","            }).error(function(data){","                //actually you'd want deffered.reject(data) here","                //but to show what would happen on success..","            });","","        return deferred.promise;","    }","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":6,"column":36},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":12},"end":{"row":18,"column":34},"action":"remove","lines":["controller: \"itemCTRL\""]},{"start":{"row":18,"column":12},"end":{"row":19,"column":37},"action":"insert","lines":["controller: listCTRL,","            resolve: listCTRL.resolve"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":26},"end":{"row":18,"column":27},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"insert","lines":["ш"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"insert","lines":["е"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":26},"end":{"row":18,"column":27},"action":"insert","lines":["у"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"insert","lines":["ь"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"remove","lines":["ь"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":26},"end":{"row":18,"column":27},"action":"remove","lines":["у"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"remove","lines":["е"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"remove","lines":["ш"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":26},"end":{"row":18,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":36},"end":{"row":4,"column":0},"action":"insert","lines":["",""]},{"start":{"row":4,"column":0},"end":{"row":4,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":12},"end":{"row":4,"column":13},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":13},"end":{"row":4,"column":14},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":19},"end":{"row":4,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":21},"end":{"row":4,"column":22},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":22},"end":{"row":4,"column":23},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":23},"end":{"row":4,"column":24},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":24},"end":{"row":4,"column":25},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":25},"end":{"row":4,"column":26},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":26},"end":{"row":4,"column":27},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":27},"end":{"row":4,"column":28},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":28},"end":{"row":4,"column":29},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":29},"end":{"row":4,"column":30},"action":"insert","lines":[";"]}]}]]},"ace":{"folds":[],"scrolltop":960,"scrollleft":0,"selection":{"start":{"row":4,"column":4},"end":{"row":4,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1430253069546,"hash":"b53ee16276091cde8adb82966f3b6c025db48c39"}